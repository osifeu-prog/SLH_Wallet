<!DOCTYPE html>
<html lang=\"he\" dir=\"rtl\">
<head>
  <meta charset=\"UTF-8\" />
  <title>SLH Wallet â€“ ×©×•×§ ×§×”×™×œ×ª×™ ×œ××˜×‘×¢×•×ª SLH / BNB</title>
  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />
  <!-- ×©××¨× ×• ×¢×œ ×”×—×™×‘×•×¨ ×œ-CSS ×”×§×™×™× ×‘×¤×¨×•×™×§×˜ -->
  <link rel=\"stylesheet\" href=\"/static/css/style.css\">
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;
      background: #0b1220;
      color: #e5e7eb;
    }

    a {
      text-decoration: none;
    }

    .landing-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 1.5rem;
      box-sizing: border-box;
    }

    .landing-layout {
      max-width: 1100px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.6fr);
      gap: 2rem;
    }

    @media (max-width: 900px) {
      .landing-layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .hero-card {
      background: radial-gradient(circle at top left, #1f2937, #020617);
      border-radius: 1.25rem;
      padding: 2rem 2rem 1.5rem;
      box-shadow: 0 20px 45px rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.2);
    }

    .hero-title {
      font-size: 1.9rem;
      margin: 0 0 0.5rem;
      font-weight: 700;
      letter-spacing: 0.02em;
    }

    .hero-subtitle {
      font-size: 1.05rem;
      color: #9ca3af;
      margin-bottom: 1.5rem;
      line-height: 1.6;
    }

    .hero-chip {
      display: inline-flex;
      align-items: center;
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      background: rgba(56, 189, 248, 0.12);
      color: #7dd3fc;
      font-size: 0.85rem;
      margin-bottom: 0.75rem;
      border: 1px solid rgba(56, 189, 248, 0.35);
    }

    .hero-chip span {
      margin-left: 0.25rem;
    }

    .steps-list {
      list-style: none;
      padding: 0;
      margin: 0 0 1.75rem;
      font-size: 0.95rem;
      color: #d1d5db;
    }

    .steps-list li {
      margin-bottom: 0.5rem;
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
    }

    .steps-list .bullet {
      width: 1.4rem;
      height: 1.4rem;
      border-radius: 999px;
      background: rgba(52, 211, 153, 0.12);
      color: #6ee7b7;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      margin-top: 0.15rem;
      border: 1px solid rgba(52, 211, 153, 0.35);
      flex-shrink: 0;
    }

    .steps-list strong {
      color: #e5e7eb;
    }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-bottom: 1.25rem;
    }

    .btn-primary,
    .btn-secondary {
      border-radius: 999px;
      padding: 0.65rem 1.5rem;
      font-size: 0.95rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      cursor: pointer;
      border: none;
    }

    .btn-primary {
      background: linear-gradient(135deg, #22c55e, #0ea5e9);
      color: #0b1120;
      box-shadow: 0 14px 30px rgba(56, 189, 248, 0.35);
    }

    .btn-primary:hover {
      filter: brightness(1.05);
    }

    .btn-secondary {
      background: rgba(15, 23, 42, 0.7);
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.5);
    }

    .btn-secondary:hover {
      background: rgba(15, 23, 42, 0.95);
    }

    .hero-footer-note {
      font-size: 0.88rem;
      color: #9ca3af;
      margin-top: 0.5rem;
      line-height: 1.5;
    }

    .market-card {
      background: radial-gradient(circle at top right, #020617, #020617);
      border-radius: 1.25rem;
      padding: 1.5rem;
      border: 1px solid rgba(148, 163, 184, 0.23);
      box-shadow: 0 18px 35px rgba(15, 23, 42, 0.85);
      display: flex;
      flex-direction: column;
      min-height: 320px;
    }

    .market-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .market-title {
      font-size: 1.1rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .market-title span {
      font-size: 1.3rem;
    }

    .market-meta {
      font-size: 0.85rem;
      color: #9ca3af;
      text-align: left;
      flex-shrink: 0;
    }

    .market-status {
      font-size: 0.85rem;
      color: #a5b4fc;
      margin-bottom: 0.5rem;
    }

    .market-table-wrapper {
      border-radius: 0.9rem;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.95));
      overflow: hidden;
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 200px;
    }

    table.market-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.86rem;
    }

    table.market-table thead {
      background: rgba(15, 23, 42, 0.95);
    }

    table.market-table th,
    table.market-table td {
      padding: 0.55rem 0.75rem;
      text-align: right;
      border-bottom: 1px solid rgba(55, 65, 81, 0.7);
      white-space: nowrap;
    }

    table.market-table th {
      color: #9ca3af;
      font-weight: 500;
      font-size: 0.8rem;
    }

    table.market-table tbody tr:nth-child(even) {
      background: rgba(15, 23, 42, 0.9);
    }

    table.market-table tbody tr:last-child<td> {
      border-bottom: none;
    }

    .market-empty {
      padding: 1.5rem;
      text-align: center;
      color: #9ca3af;
      font-size: 0.92rem;
    }

    .market-footer {
      font-size: 0.85rem;
      color: #9ca3af;
      margin-top: 0.6rem;
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      padding: 0.15rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      font-size: 0.8rem;
      color: #d1d5db;
    }

    .pill-dot {
      width: 0.5rem;
      height: 0.5rem;
      border-radius: 999px;
      margin-left: 0.25rem;
      background: #22c55e;
    }

    footer {
      max-width: 1100px;
      margin: 1.5rem auto 0;
      font-size: 0.8rem;
      color: #6b7280;
      text-align: center;
      padding-bottom: 0.75rem;
    }
  </style>
</head>
<body>
  <div class=\"landing-container\">
    <div class=\"landing-layout\">
      <!-- ×¦×“ ×™××™×Ÿ â€“ ×”×¡×‘×¨ ×•×¤×¢×•×œ×•×ª ×‘×˜×œ×’×¨× -->
      <section class=\"hero-card\">
        <div class=\"hero-chip\">
          <span>SLH Wallet 2.0</span>
          â€¢
          <span>××¨× ×§ ×§×”×™×œ×ª×™ + ×©×•×§ ××‘×•×–×¨</span>
        </div>

        <h1 class=\"hero-title\">
          ××¨× ×§ ×˜×œ×’×¨× ×§×”×™×œ×ª×™ + ×‘×•×¨×¡×” ×—×‘×¨×ª×™×ª ×œ-SLH / BNB
        </h1>

        <p class=\"hero-subtitle\">
          ×›×œ ×—×‘×¨ ×§×”×™×œ×” ×¤×•×ª×— ××¨× ×§ ×“×¨×š ×”×‘×•×˜ ×‘×˜×œ×’×¨×, ××—×–×™×§ ×•×× ×”×œ ××ª ×”-SLH ×•×”-BNB ×©×œ×•,
          ×•×™×›×•×œ ×œ×¤×ª×•×— ×”×¦×¢×•×ª ××›×™×¨×” ×‘×©×•×§ ×”×§×”×™×œ×ª×™. ×”×“×£ ×”×–×” ××¨×›×– ××ª ×”×”×¦×¢×•×ª ×”×¤×¢×™×œ×•×ª
          ×›×“×™ ×©×›×•×œ× ×™×•×›×œ×• ×œ×¨××•×ª ××™ ××•×›×¨, ×›××” ×•×‘××™×–×” ××—×™×¨.
        </p>

        <ul class=\"steps-list\">
          <li>
            <span class=\"bullet\">1</span>
            <div>
              <strong>×¤×•×ª×—×™× ××¨× ×§ ×“×¨×š ×”×‘×•×˜ ×‘×˜×œ×’×¨×</strong><br>
              × ×›× ×¡×™× ×œ×‘×•×˜ <code>@Slh_selha_bot</code>, ×©×•×œ×—×™× <code>/start</code> ×•××–
              <code>/wallet</code> ×•-<code>/balances</code> ×›×“×™ ×œ×¨××•×ª ××ª ××¦×‘ ×”××¨× ×§.
            </div>
          </li>
          <li>
            <span class=\"bullet\">2</span>
            <div>
              <strong>×¤×•×ª×—×™× ×”×¦×¢×ª ××›×™×¨×”</strong><br>
              ××ª×•×š ×”×‘×•×˜ ×©×•×œ×—×™× ×œ×“×•×’××”:
              <code>/sell 10 0.01</code> â€“ ××›×™×¨×” ×©×œ 10 SLH ×‘××—×™×¨ 0.01 BNB ×œ×™×—×™×“×”.
              ×”×”×¦×¢×” ××•×¤×™×¢×” ×›××Ÿ ×‘×œ×•×— ×”×©×•×§.
            </div>
          </li>
          <li>
            <span class=\"bullet\">3</span>
            <div>
              <strong>×¨×•××™× ××ª ×”×©×•×§ ×•×¤×•× ×™× ×œ××•×›×¨×™×</strong><br>
              ×›×œ ×”×”×¦×¢×•×ª ×”×¤×¢×™×œ×•×ª ××•×¦×’×•×ª ×›××Ÿ ×•×‘×¤×§×•×“×” <code>/market</code> ×‘×‘×•×˜.
              ×”×§×•× ×™× ×™×•×¦×¨×™× ×§×©×¨ ×¢× ×”××•×›×¨×™× ×“×¨×š ×§×‘×•×¦×ª ×”×§×”×™×œ×” / ×˜×œ×’×¨× ×•×¡×•×’×¨×™× ××ª ×”×¢×¡×§×”.
            </div>
          </li>
        </ul>

        <div class=\"btn-row\">
          <a class=\"btn-primary\" href=\"https://t.me/Slh_selha_bot\" target=\"_blank\" rel=\"noopener noreferrer\">
            ğŸ¤– ×¤×ª×™×—×ª ×”×‘×•×˜ ×‘×˜×œ×’×¨×
          </a>
          <a class=\"btn-secondary\" href=\"https://t.me/+HIzvM8sEgh1kNWY0\" target=\"_blank\" rel=\"noopener noreferrer\">
            ğŸ‘¥ ×”×¦×˜×¨×¤×•×ª ×œ×§×”×™×œ×ª ×”×¢×¡×§×™×
          </a>
        </div>

        <div class=\"hero-footer-note\">
          â€¢ ×›×œ ×”×¨×™×©×•× ×•×”×©×œ×™×˜×” ×‘××¨× ×§ ××ª×‘×¦×¢×™× ×“×¨×š ×”×‘×•×˜ ×‘×œ×‘×“ (×œ× ×“×¨×š ×”×“×¤×“×¤×Ÿ).<br>
          â€¢ ×”×“×£ ×”×–×” ×”×•× ×œ×•×— ×©×•×§ ×§×”×™×œ×ª×™ â€“ ××¦×™×’ ××™ ××•×›×¨, ×›××”, ×•×‘××™×–×” ××—×™×¨.
        </div>
      </section>

      <!-- ×¦×“ ×©×××œ â€“ ×©×•×§ ×§×”×™×œ×ª×™ -->
      <section class=\"market-card\">
        <header class=\"market-header\">
          <div class=\"market-title\">
            <span>ğŸ“ˆ</span>
            <div>
              ×©×•×§ SLH ×§×”×™×œ×ª×™
              <div style=\"font-size: 0.85rem; color: #9ca3af; margin-top: 0.15rem;\">
                ×”×¦×¢×•×ª ××›×™×¨×” ×—×•×¤×©×™×•×ª ×‘×™×Ÿ ×—×‘×¨×™ ×”×§×”×™×œ×”
              </div>
            </div>
          </div>
          <div class=\"market-meta\">
            <div id=\"offers-count\">×˜×•×¢×Ÿ × ×ª×•× ×™ ×©×•×§â€¦</div>
          </div>
        </header>

        <div class=\"market-status\" id=\"market-status\">
          </div>

        <div class=\"market-table-wrapper\" id=\"market-table-wrapper\">
          <table class=\"market-table\" id=\"offers-table\" style=\"display: none;\">
            <thead>
              <tr>
                <th>#</th>
                <th>×›××•×ª (SLH)</th>
                <th>××—×™×¨ ×œ×™×—×™×“×” (BNB)</th>
                <th>×¡×”×´×› (BNB)</th>
                <th>××•×›×¨ (Telegram ID)</th>
                <th>× ×¤×ª×— ×‘Ö¾</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div class=\"market-empty\" id=\"market-empty\" style=\"display: none;\">
            ××™×Ÿ ×¢×“×™×™×Ÿ ×”×¦×¢×•×ª ×¤×¢×™×œ×•×ª ×‘×©×•×§.<br>
            ×ª×”×™×” ×”×¨××©×•×Ÿ ×œ×¤×ª×•×— ×”×¦×¢×ª ××›×™×¨×” ×“×¨×š ×”×‘×•×˜ ×¢× ×”×¤×§×•×“×”:
            <code>/sell 10 0.01</code>
          </div>
        </div>

        <div class=\"market-footer\">
          <div>
            <span class=\"pill\">
              <span class=\"pill-dot\"></span>
              ×”×¦×¢×•×ª ×—×“×©×•×ª ×× ×•×”×œ×•×ª ×“×¨×š ×”×‘×•×˜: <code>/sell</code> ×•-<code>/market</code>
            </span>
          </div>
          <div>
            ×”×¢×¡×§××•×ª ×¢×¦××Ÿ ××ª×‘×¦×¢×•×ª ×™×©×™×¨×•×ª ×‘×™×Ÿ ×—×‘×¨×™ ×”×§×”×™×œ×” (P2P) ×‘×××¦×¢×•×ª ××¨× ×§×™ BNB/SLH.
          </div>
        </div>
      </section>
    </div>

    <footer>
      SLH Wallet 2.0 â€“ ××¨× ×§ ×§×”×™×œ×ª×™ ×•×©×•×§ ×—×‘×¨×ª×™ ×œ××˜×‘×¢×•×ª SLH / BNB â€¢ ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª ×œ×§×”×™×œ×ª SLHNET
    </footer>
  </div>

  <script>
    async function loadMarket() {
      const apiBase = ''; // ××•×ª×• ×“×•××™×™×Ÿ â€“ ××™×Ÿ ×¦×•×¨×š ×œ×©× ×•×ª
      const table = document.getElementById('offers-table');
      const tbody = table.querySelector('tbody');
      const emptyEl = document.getElementById('market-empty');
      const countEl = document.getElementById('offers-count');
      const statusEl = document.getElementById('market-status');

      countEl.textContent = '×˜×•×¢×Ÿ × ×ª×•× ×™ ×©×•×§â€¦';
      statusEl.textContent = '';

      try {
        const res = await fetch(apiBase + '/api/trade/offers', {
          headers: {
            'Accept': 'application/json'
          }
        });

        if (!res.ok) {
          countEl.textContent = '×©×’×™××” ×‘×˜×¢×™× ×ª ×”×©×•×§';
          statusEl.textContent = '× ×¡×” ×œ×¨×¢× ×Ÿ ××ª ×”×“×£ ××• ×œ× ×¡×•×ª ×©×•×‘ ×××•×—×¨ ×™×•×ª×¨.';
          table.style.display = 'none';
          emptyEl.style.display = 'block';
          return;
        }

        const offers = await res.json();

        if (!Array.isArray(offers) || offers.length === 0) {
          table.style.display = 'none';
          emptyEl.style.display = 'block';
          countEl.textContent = '0 ×”×¦×¢×•×ª ×¤×¢×™×œ×•×ª ×›×¨×’×¢';
          statusEl.textContent = '×¤×ª×— ×”×¦×¢×ª ××›×™×¨×” ×“×¨×š ×”×‘×•×˜ ×¢× /sell ×›×“×™ ×œ×”×ª×—×™×œ ××ª ×”×©×•×§.';
          return;
        }

        // ×™×© ×”×¦×¢×•×ª
        tbody.innerHTML = '';
        offers.forEach(o => {
          const tr = document.createElement('tr');
          const total = (o.amount * o.price_bnb).toFixed(6);
          let created = '';
          try {
            created = new Date(o.created_at).toLocaleString('he-IL', {
              dateStyle: 'short',
              timeStyle: 'short'
            });
          } catch (e) {
            created = o.created_at || '';
          }

          tr.innerHTML = `
            <td>#${o.id}</td>
            <td>${o.amount} ${o.token_symbol}</td>
            <td>${o.price_bnb}</td>
            <td>${total}</td>
            <td>${o.telegram_id}</td>
            <td>${created}</td>
          `;
          tbody.appendChild(tr);
        });

        table.style.display = 'table';
        emptyEl.style.display = 'none';
        countEl.textContent = `${offers.length} ×”×¦×¢×•×ª ×¤×¢×™×œ×•×ª ×‘×©×•×§`;
        statusEl.textContent = '× ×ª×•× ×™ ×”×©×•×§ ××ª×¢×“×›× ×™× ×‘×›×œ ×¤×ª×™×—×ª /sell ×‘×‘×•×˜.';
      } catch (err) {
        console.error('market load error', err);
        countEl.textContent = '×©×’×™××” ×‘×˜×¢×™× ×ª ×”×©×•×§';
        statusEl.textContent = '×‘×“×•×§ ×—×™×‘×•×¨ ××• × ×¡×” ×©×•×‘ ×××•×—×¨ ×™×•×ª×¨.';
        table.style.display = 'none';
        emptyEl.style.display = 'block';
      }
    }

    document.addEventListener('DOMContentLoaded', loadMarket);
  </script>
</body>
</html>
